#!/usr/bin/env node
import{Command as g}from"commander";import p from"fs-extra";import t from"node:path";import{fileURLToPath as b}from"node:url";import{select as $,confirm as d,input as w}from"@inquirer/prompts";var i=new g,v=b(import.meta.url),C=t.dirname(v);i.name("sugarcss").description("Instala componentes React com Sass do @sugarcss/react").version("0.1.0");i.command("install").argument("[component]","Nome do componente para instalar (opcional)").option("-d, --dir <directory>","Diret\xF3rio de destino para instalar o componente","").action(async(r,c)=>{let e=["button","input","modal","dropdown","textarea","typography","accordion","tabs","link"],n=["button","input"],o=r;if(!o){let m=e.map(a=>({name:`${a}${n.includes(a)?"":" (em breve)"}`,value:a,disabled:!n.includes(a)}));o=await $({message:"Selecione o componente que deseja instalar:",choices:m})}e.includes(o)||(console.error(`Componente "${o}" n\xE3o encontrado.`),process.exit(1)),n.includes(o)||(console.error(`Componente "${o}" ainda n\xE3o foi implementado.`),process.exit(1));let s=c.dir;s||(await d({message:"Deseja instalar no diret\xF3rio atual?",default:!0})?s=process.cwd():s=await w({message:"Digite o caminho do diret\xF3rio de destino:",default:process.cwd()}));let u=t.dirname(t.dirname(C)),f=t.join(u,`src/components/${o}`),l=t.join(s,`src/components/ui/${o}`);await d({message:`Confirma a instala\xE7\xE3o do componente "${o}" em ${l}?`,default:!0})||(console.log("Instala\xE7\xE3o cancelada."),process.exit(0)),await p.ensureDir(l),await p.copy(f,l),console.log(`\u2705 Componente "${o}" instalado em src/components/ui/${o}`)});i.command("list").description("Lista todos os componentes dispon\xEDveis").action(()=>{let r=["button","input","modal","dropdown","textarea","typography","accordion","tabs","link"],c=["button","input"];console.log(`
Componentes dispon\xEDveis:`),console.log(`----------------------
`);for(let e of r){let n=c.includes(e)?"\u2705 Dispon\xEDvel":"\u{1F504} Em breve";console.log(`${e.padEnd(15)} ${n}`)}console.log(`
Para instalar um componente, execute:`),console.log("  npx sugarcss-react install <componente>"),console.log("  ou simplesmente:"),console.log(`  npx sugarcss-react install
`)});i.parse();
